"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{5134:function(e,l,t){t.r(l),t.d(l,{default:function(){return h}});var n=t(7437),r=t(2265),s=e=>{let{disabled:l,onPress:t,value:r}=e;return(0,n.jsx)("button",{disabled:l,className:"bg-white border border-blue-50 text-2xl font-bold h-20 w-20 text-center text-blue-900 cursor-pointer",onClick:t,children:r})},i=e=>{let{state:l,disabled:t,onCellPressed:i,gameResult:c}=e;return(0,n.jsx)("div",{className:"flex flex-row flex-wrap w-60 h-60",children:l.map((e,l)=>(0,n.jsx)(r.Fragment,{children:(0,n.jsx)(s,{disabled:null!==e||t,onPress:()=>i&&i(l),index:l,value:e},l)},l+"-board"))})};let c=e=>{let l="";e.forEach((e,t)=>{l+=e?" ".concat(e," |"):"   |",(t+1)%3==0&&(l=l.slice(0,-1),t<8&&(l+="\n――― ――― ―――\n"))})},a=e=>e.every(e=>null===e),o=e=>e.every(e=>e),u=e=>{let l=[];return e.forEach((e,t)=>{null===e&&l.push(t)}),l},d=e=>{if(a(e))return!1;let l=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let t=0;t<l.length;t++){let[n,r,s]=l[t];if(e[n]&&e[n]===e[r]&&e[n]===e[s]){let l={winner:e[n]};return t<3&&(l.direction="H",l.row=0===t?1:1===t?2:3),t>=3&&t<=5&&(l.direction="V",l.column=3===t?1:4===t?2:3),t>5&&(l.direction="D",l.diagonal=6===t?"MAIN":"COUNTER"),l}}return!!o(e)&&{winner:null}},x=function(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r={},s=function(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=d(e);if(i||t===n)return i&&"x"===i.winner?100-t:i&&"o"===i.winner?-100+t:0;if(l){let l=-100;if(u(e).forEach(i=>{let a=[...e];a[i]="x",c(a);let o=s(a,!1,t+1,n);l=Math.max(l,o),0===t&&(r[o]=r[o]?"".concat(r[o],", ").concat(i):"".concat(i))}),0===t){let e=r[l].split(","),t=Math.floor(Math.random()*e.length);return parseInt(e[t])}return l}{let l=100;if(u(e).forEach(i=>{let a=[...e];a[i]="o",c(a);let o=s(a,!0,t+1,n);l=Math.min(l,o),0===t&&(r[o]=r[o]?"".concat(r[o],", ").concat(i):"".concat(i))}),0===t){let e=r[l].split(","),t=Math.floor(Math.random()*e.length);return parseInt(e[t])}return l}};return s(e,l,t,n)};var h=function(){let[e,l]=(0,r.useState)(.5>Math.random()?"HUMAN":"BOT"),t=(e,t)=>{l(e),v(e,t)},[s,c]=(0,r.useState)([null,null,null,null,null,null,null,null,null]),o=e=>{c(e),p(e)},[u,h]=(0,r.useState)(!0),[f,b]=(0,r.useState)(!1),[m,w]=(0,r.useState)({wins:0,losses:0,draws:0}),[N,j]=(0,r.useState)(d(s)),p=e=>{let l=d(e);if(!l)return;let t=A(l.winner);"HUMAN"===t&&w({...m,wins:m.wins+1}),"BOT"===t&&w({...m,losses:m.losses+1}),"DRAW"===t&&w({...m,draws:m.draws+1})},v=(e,l)=>{if("BOT"===e){if(a(l)){let e=[0,2,6,8,4],n=M(e[Math.floor(Math.random()*e.length)],"x",l);h(!1),t("HUMAN",n),o(n)}else{let e=M(x(l,!u,0,f?parseInt("2"):parseInt("-1")),u?"o":"x",l);t("HUMAN",e),o(e)}}},M=(e,l,t)=>{if(t[e]||d(t))return t;let n=[...t];return n[e]=l,n},g=l=>{"HUMAN"===e&&t("BOT",M(l,u?"x":"o",s))},A=e=>"x"===e?u?"HUMAN":"BOT":"o"===e?u?"BOT":"HUMAN":"DRAW";(0,r.useEffect)(()=>{"BOT"===e&&v(e,s)},[]);let H=()=>{let e=[null,null,null,null,null,null,null,null,null];o(e),t(.5>Math.random()?"HUMAN":"BOT",e)};return d(s),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center p-20",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsxs)("button",{onClick:()=>{b(!f)},className:"text-white p-4 rounded-full bg-blue-900 font-bold text-lg text-center mb-4",children:["Difficulty: ",f?"Possible":"Impossible"]}),(0,n.jsxs)("div",{className:"flex flex-row mb-10",children:[(0,n.jsxs)("div",{className:"flex flex-col bg-white border border-blue-900 items-center p-2 mx-2",children:[(0,n.jsx)("h2",{children:"Wins"}),(0,n.jsx)("h2",{children:m.wins})]}),(0,n.jsxs)("div",{className:"flex flex-col bg-white border border-blue-900 items-center p-2 mx-2",children:[(0,n.jsx)("h2",{children:"Draws"}),(0,n.jsx)("h2",{children:m.draws})]}),(0,n.jsxs)("div",{className:"flex flex-col bg-white border border-blue-900 items-center p-2 mx-2",children:[(0,n.jsx)("h2",{children:"Losses"}),(0,n.jsx)("h2",{children:m.losses})]})]})]}),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(i,{disabled:!!d(s)||"HUMAN"!==e,onCellPressed:e=>{g(e)},state:s,gameResult:N})}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center w-full",children:[(0,n.jsx)("div",{className:"text-blue-900 font-bold text-center pt-4",children:N?A(N.winner):null}),(0,n.jsx)("button",{className:"text-white p-4 rounded-full bg-blue-900 font-bold text-lg text-center mb-4",onClick:()=>H(),children:"New Game"})]})]})}}}]);